{
  "title": "Protection domain Overview",
  "description": "[[suggested_dashboards]]",
  "widgets": [
    {
      "id": 5006342395758448,
      "definition": {
        "type": "image",
        "url": "https://i.postimg.cc/0y6xW0n9/Infinity.png",
        "sizing": "fill",
        "has_background": true,
        "has_border": true,
        "vertical_align": "center",
        "horizontal_align": "center"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 2,
        "height": 1
      }
    },
    {
      "id": 3206461967521860,
      "definition": {
        "title": "Total VMs replicas running at this time",
        "title_size": "13",
        "title_align": "left",
        "time": {
          "type": "live",
          "unit": "minute",
          "value": 1
        },
        "requests": [
          {
            "response_format": "scalar",
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_ongoing_replication_count{*} by {pd_vm_name,pd_vm_protection_domain_name}",
                "aggregator": "last"
              }
            ],
            "style": {
              "palette": "classic"
            },
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "sort": {
              "count": 500,
              "order_by": [
                {
                  "type": "formula",
                  "index": 0,
                  "order": "desc"
                }
              ]
            }
          }
        ],
        "type": "sunburst",
        "legend": {
          "type": "none"
        }
      },
      "layout": {
        "x": 2,
        "y": 0,
        "width": 2,
        "height": 3
      }
    },
    {
      "id": 1560713541696468,
      "definition": {
        "title": "Total storage transmitted ",
        "title_size": "13",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value",
          "sum"
        ],
        "time": {
          "type": "live",
          "unit": "minute",
          "value": 5
        },
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "number_format": {
                  "unit": {
                    "type": "canonical_unit",
                    "unit_name": "byte"
                  }
                },
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_vm_replication_total_transmitted_bytes{*} by {pd_vm_protection_domain_name}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "order_by": "values",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 2,
        "height": 3
      }
    },
    {
      "id": 2677441766431614,
      "definition": {
        "title": "VMs without protection",
        "title_size": "13",
        "title_align": "left",
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.vms_unprotected_name{*} by {vm_name,vm_ip_1,vm_powerstate,cluster_name}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar",
            "text_formats": [
              [],
              [],
              [
                {
                  "match": {
                    "type": "is",
                    "value": "on"
                  },
                  "palette": "green_on_white",
                  "replace": {
                    "type": "all",
                    "with": "ON"
                  }
                },
                {
                  "match": {
                    "type": "is",
                    "value": "off"
                  },
                  "palette": "red_on_white",
                  "replace": {
                    "type": "all",
                    "with": "OFF"
                  }
                }
              ],
              [
                {
                  "match": {
                    "type": "is",
                    "value": "on"
                  },
                  "palette": "green_on_white",
                  "replace": {
                    "type": "all",
                    "with": "ON"
                  }
                },
                {
                  "match": {
                    "type": "is",
                    "value": "off"
                  },
                  "palette": "red_on_white",
                  "replace": {
                    "type": "all",
                    "with": "OFF"
                  }
                }
              ]
            ],
            "sort": {
              "order_by": [
                {
                  "type": "group",
                  "name": "vm_name",
                  "order": "asc"
                }
              ],
              "count": 500
            },
            "formulas": [
              {
                "alias": "UNPROTECTED",
                "cell_display_mode": "number",
                "conditional_formats": [
                  {
                    "comparator": "=",
                    "value": 0,
                    "palette": "red_on_white"
                  }
                ],
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "auto"
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 3,
        "height": 6
      }
    },
    {
      "id": 4033547274718550,
      "definition": {
        "title": "Replications events",
        "title_size": "16",
        "title_align": "left",
        "time": {
          "type": "live",
          "unit": "week",
          "value": 1
        },
        "requests": [
          {
            "response_format": "event_list",
            "query": {
              "query_string": "classification:dr cluster_name:*",
              "data_source": "event_stream",
              "event_size": "l"
            },
            "columns": []
          }
        ],
        "type": "list_stream"
      },
      "layout": {
        "x": 9,
        "y": 0,
        "width": 3,
        "height": 9
      }
    },
    {
      "id": 1492132299226298,
      "definition": {
        "title": "PD Replication in (Mega bit per second)",
        "title_size": "13",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value",
          "sum"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "number_format": {
                  "unit": {
                    "type": "custom_unit_label",
                    "label": "Mbps"
                  }
                },
                "formula": "query1 / 1000"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_vm_replication_transmitted_bandwidth_kBps{*} by {pd_vm_protection_domain_name}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "order_by": "values",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 1,
        "width": 2,
        "height": 2
      }
    },
    {
      "id": 7150559839277780,
      "definition": {
        "title": " RUNNING",
        "title_size": "13",
        "title_align": "left",
        "time": {
          "type": "live",
          "unit": "minute",
          "value": 1
        },
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_ongoing_replication_count{*} by {pd_vm_name,pd_vm_protection_domain_name,cluster_name}",
                "aggregator": "avg"
              }
            ],
            "response_format": "scalar",
            "text_formats": [
              [
                {
                  "match": {
                    "type": "is",
                    "value": ""
                  },
                  "palette": "white_on_green"
                }
              ],
              [],
              [],
              [],
              [
                {
                  "match": {
                    "type": "is",
                    "value": "false"
                  },
                  "palette": "green_on_white",
                  "replace": {
                    "type": "all",
                    "with": "NO"
                  }
                },
                {
                  "match": {
                    "type": "is",
                    "value": "true"
                  },
                  "palette": "red_on_white",
                  "replace": {
                    "type": "all",
                    "with": "YES"
                  }
                }
              ]
            ],
            "sort": {
              "count": 500,
              "order_by": [
                {
                  "type": "formula",
                  "index": 0,
                  "order": "desc"
                }
              ]
            },
            "formulas": [
              {
                "conditional_formats": [
                  {
                    "comparator": "=",
                    "value": 1,
                    "palette": "green_on_white"
                  }
                ],
                "cell_display_mode": "bar",
                "alias": "REPLICATION",
                "number_format": {
                  "unit": {
                    "type": "custom_unit_label",
                    "label": "[RUNNING]"
                  }
                },
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "always"
      },
      "layout": {
        "x": 0,
        "y": 3,
        "width": 3,
        "height": 3
      }
    },
    {
      "id": 2613674269409666,
      "definition": {
        "type": "manage_status",
        "display_format": "countsAndList",
        "color_preference": "text",
        "hide_zero_counts": true,
        "show_status": true,
        "last_triggered_format": "relative",
        "query": "NOT group_status:ok tag:(PD_PENDING) AND group:*",
        "sort": "triggered,desc",
        "count": 50,
        "start": 0,
        "summary_type": "groups",
        "show_priority": true,
        "show_last_triggered": true
      },
      "layout": {
        "x": 3,
        "y": 3,
        "width": 3,
        "height": 3
      }
    },
    {
      "id": 470227656271396,
      "definition": {
        "title": "PENDING",
        "title_size": "13",
        "title_align": "left",
        "time": {
          "type": "live",
          "unit": "minute",
          "value": 1
        },
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_vm_pending{*} by {pd_vm_name,pd_vm_protection_domain_name,pd_vm_remote_site_name,pd_vm_current_replicating_snapshot_id,pd_vm_last_successful_replication_snapshot_id}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar",
            "text_formats": [
              [
                {
                  "match": {
                    "type": "is",
                    "value": ""
                  },
                  "palette": "white_on_green"
                }
              ],
              [
                {
                  "match": {
                    "type": "is",
                    "value": "0"
                  },
                  "palette": "white_on_green"
                }
              ],
              [],
              [],
              [
                {
                  "match": {
                    "type": "is",
                    "value": "false"
                  },
                  "palette": "green_on_white",
                  "replace": {
                    "type": "all",
                    "with": "NO"
                  }
                },
                {
                  "match": {
                    "type": "is",
                    "value": "true"
                  },
                  "palette": "red_on_white",
                  "replace": {
                    "type": "all",
                    "with": "YES"
                  }
                }
              ]
            ],
            "sort": {
              "order_by": [
                {
                  "type": "group",
                  "name": "pd_vm_current_replicating_snapshot_id",
                  "order": "desc"
                }
              ],
              "count": 500
            },
            "formulas": [
              {
                "conditional_formats": [
                  {
                    "comparator": "=",
                    "value": 1,
                    "palette": "red_on_white"
                  },
                  {
                    "comparator": "=",
                    "value": 0,
                    "palette": "green_on_white"
                  }
                ],
                "cell_display_mode": "bar",
                "alias": "REPLICATION",
                "number_format": {
                  "unit": {
                    "type": "custom_unit_label",
                    "label": "PENDING"
                  }
                },
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "always"
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 3,
        "height": 3
      }
    },
    {
      "id": 8052186929642774,
      "definition": {
        "title": "HISTORY",
        "title_size": "13",
        "title_align": "left",
        "time": {
          "type": "live",
          "unit": "hour",
          "value": 1
        },
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:LogicInsightPE.pd_none_replication_count{*} by {pd_vm_name,pd_vm_protection_domain_name,pd_vm_remote_site_name,pd_vm_last_successful_replication_snapshot_id,pd_vm_last_replication_start_time_in_usecs,pd_vm_last_replication_end_time_in_usecs}",
                "aggregator": "avg"
              }
            ],
            "response_format": "scalar",
            "text_formats": [
              [
                {
                  "match": {
                    "type": "is",
                    "value": ""
                  },
                  "palette": "white_on_green"
                }
              ]
            ],
            "sort": {
              "order_by": [
                {
                  "type": "group",
                  "name": "pd_vm_last_successful_replication_snapshot_id",
                  "order": "desc"
                }
              ],
              "count": 500
            },
            "formulas": [
              {
                "conditional_formats": [
                  {
                    "comparator": ">",
                    "value": 1,
                    "palette": "green_on_white"
                  }
                ],
                "cell_display_mode": "bar",
                "alias": "REPLICA DURATION",
                "number_format": {
                  "unit": {
                    "type": "canonical_unit",
                    "unit_name": "second"
                  }
                },
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "always"
      },
      "layout": {
        "x": 3,
        "y": 6,
        "width": 6,
        "height": 3
      }
    }
  ],
  "template_variables": [
    {
      "name": "cluster_name",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "vm_name",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "pd_name",
      "prefix": "pd_name",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}